import{r as l,A as v,u as C,j as e}from"./index-CHKk25vh.js";import{m as S}from"./mockTestCases-C5YFZIcg.js";function T(){const{user:u}=l.useContext(v),d=C(),[n,m]=l.useState(""),[i,j]=l.useState("all"),[c,y]=l.useState("all"),[s,o]=l.useState([]),a=l.useMemo(()=>S.filter(t=>{const r=t.title.toLowerCase().includes(n.toLowerCase())||t.id.toLowerCase().includes(n.toLowerCase()),p=i==="all"||t.priority===i,f=c==="all"||t.type===c;return r&&p&&f}),[n,i,c]),x=u.role==="admin"||u.role==="test-lead",b=t=>{o(r=>r.includes(t)?r.filter(p=>p!==t):[...r,t])},g=()=>{o(a.map(t=>t.id))},h=()=>{o([])},N=a.length>0&&s.length===a.length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-800",children:"Test Cases"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Manage and execute test cases"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("input",{type:"text",placeholder:"Search by ID or title",value:n,onChange:t=>m(t.target.value),className:"rounded-lg border px-3 py-2 text-sm"}),e.jsxs("select",{value:i,onChange:t=>j(t.target.value),className:"rounded-lg border px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"All Priorities"}),e.jsx("option",{value:"Critical",children:"Critical"}),e.jsx("option",{value:"High",children:"High"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"Low",children:"Low"})]}),e.jsxs("select",{value:c,onChange:t=>y(t.target.value),className:"rounded-lg border px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"Functional",children:"Functional"}),e.jsx("option",{value:"Performance",children:"Performance"}),e.jsx("option",{value:"Security",children:"Security"})]}),x&&e.jsx("button",{className:"ml-auto rounded-lg bg-blue-600 px-4 py-2 text-sm text-white hover:bg-blue-700",onClick:()=>d("/testcases/new"),children:"+ Create Test Case"})]}),x&&s.length>0&&e.jsxs("div",{className:"flex items-center justify-between rounded-lg border bg-slate-50 px-4 py-2",children:[e.jsxs("span",{className:"text-sm text-slate-600",children:[s.length," selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"rounded border border-red-300 bg-red-50 px-3 py-1 text-sm text-red-600 hover:bg-red-100",onClick:()=>{alert(`Deleting: ${s.join(", ")}`),h()},children:"Delete"}),e.jsx("button",{className:"rounded border border-blue-300 bg-blue-50 px-3 py-1 text-sm text-blue-600 hover:bg-blue-100",onClick:()=>{alert(`Updating priority for: ${s.join(", ")}`),h()},children:"Update Priority"})]})]}),e.jsx("div",{className:"overflow-auto rounded-xl border bg-white",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:N,onChange:t=>t.target.checked?g():h()})}),e.jsx("th",{className:"px-4 py-3 text-left",children:"ID"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Title"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Priority"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Suite"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Updated"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),e.jsxs("tbody",{children:[a.map(t=>e.jsxs("tr",{className:`border-t hover:bg-slate-50 ${s.includes(t.id)?"bg-blue-50":""}`,children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:s.includes(t.id),onChange:()=>b(t.id)})}),e.jsx("td",{className:"px-4 py-3 font-medium",children:t.id}),e.jsx("td",{className:"px-4 py-3",children:t.title}),e.jsx("td",{className:"px-4 py-3",children:t.priority}),e.jsx("td",{className:"px-4 py-3",children:t.type}),e.jsx("td",{className:"px-4 py-3",children:t.suite}),e.jsx("td",{className:"px-4 py-3",children:t.lastUpdated}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("button",{className:"text-blue-600 hover:underline mr-3",onClick:()=>d(`/testcases/${t.id}`),children:"View"}),x&&e.jsx("button",{className:"text-slate-600 hover:underline",onClick:()=>d(`/testcases/${t.id}/edit`),children:"Edit"})]})]},t.id)),a.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-4 py-6 text-center text-slate-500",children:"No test cases found"})})]})]})}),e.jsxs("div",{className:"flex justify-end gap-2 text-sm",children:[e.jsx("button",{className:"rounded border px-3 py-1",children:"Previous"}),e.jsx("button",{className:"rounded border px-3 py-1",children:"Next"})]})]})}export{T as default};
